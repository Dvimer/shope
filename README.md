# shope

# не доделано

- Спецификацию не применил
- @ExceptionHandler не добавлен, для обработки ошибок

# Вопросы

- 1-4 уровень по 20, последний уровент до 10000, получается в базу мы должны записать 1 600 000 000 записей, верно?
- Все данные мы забираем без пагинации в виде json?
- числовые значения в количестве 3 шт задал у каждого листа,верно ли это?
-

# Запуск

1. в application.yml задать 3 параметра

- spring.datasource.url:  url к Базе данных(так же в базе создать таблицу)
- spring.datasource.username: имя пользователя
- spring.datasource.password: пароль

2. Запустить приложение BuildMarketApplication, при первой загрузке в базе создастся структура и заполнится таблица с
   магазинами
3. Зайти в тест CreateTestFileUtil и поставить параметр COUNT_GOODS_IN_EVERY_SIZE в нужное значение Количество товаров в
   зависимости от значения параметр:
   -если ставим 1 = 20*20*20*20*1 = 160 000(генерится 3 минуты, заливается через RunScript примерно 3 минуты)
   -если ставим 10 = 20*20*20*20*1 = 1 600 000 -если ставим 100 = 20*20*20*20*1 = 16 000 000 -если ставим 1000 = 20*20*
   20*20*1 = 160 000 000 -если ставим 10000 = 20*20*20*20*1 = 1 600 000 000

4. Далее мы в папке src.te

После заливки данных, можно вызывать запрос, в котором значение id_tree это ID магазина от 1 до 20 prop = тип стоимости,
допустимые значения - цена закупки,стоимость поставки,стоимость монтажа

curl -X POST \
http://localhost:5555/calc \
-H 'Accept: */*' \
-H 'Accept-Encoding: gzip, deflate' \
-H 'Cache-Control: no-cache' \
-H 'Connection: keep-alive' \
-H 'Content-Length: 69' \
-H 'Content-Type: application/json' \
-H 'Host: localhost:5555' \
-H 'Postman-Token: e181f948-60d8-4f5c-ac04-522a97e92a65,a2f4948b-3755-41bf-bf09-0f045bd18f83' \
-H 'User-Agent: PostmanRuntime/7.19.0' \
-H 'cache-control: no-cache' \
-d '{
"id_tree": 2,
"prop": "стоимость монтажа"
}'

В базе находится 1 760 000 - выборка по 1 магазину происходит за ~ 7 секунд 

